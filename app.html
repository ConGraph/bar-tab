<DOCTYPEhtml> 
<html> 
<title>TabTracker-admin</title>
<head> </head> 
<body>
    <form> 

        Name:  
        <input id="nameInput" type="text" name="name"><br>
        $:         
        <input id="priceInput" type="number" name="priceOwed">
        <br>
        <button id="addNew" type="button"> Add New Entry </button>

        <button id="PayedDown" type="button"> payed </button> 
        <button id="Clear" type="button"> reset </button>


        <div id="ledgerView"></div>
    
    </form> 

    <script> 
//* santax = type/ cost
        menu = {
             tapBeer: {
                price: 5.25, 
                brands: [
                    steemwhistle,
                    millstreetOrganic, 
                    millstreetTankHouse,
                ]
             },
            bottledBeer: {
                price:4.5,
                brands:[
                    canadian,
                    budwiser,
                    molsonExport,            
                ]
            },       
        };
function balance { 
    
}
        person= { 
          { 

         }
            payDown: {
                +5
                +10 
                +15
            }
            payUp: {

            }


        }



        ledger = [];
        nameInput = document.getElementById("nameInput");
        priceInput = document.getElementById("priceInput");
        buttonCollect = document.getElementById("addNew");
        buttonPayed = document.getElementById("PayedDown");
        buttonReset = document.getElementById("Clear");
        ledgerView = document.getElementById("ledgerView");
        


        buttonCollect.onclick = collect;
        buttonPayed.onclick = pay;
        buttonReset.onclick = clear; 
        function collect() {
            
            // collect info for new entry
            var newEntry = grabInputData();
            
            // look for an existing entry with that person
            var found = findPerson(newEntry.person);
           
            // if we find an existing entry with that person
            if(typeof found != 'undefined'){
                // add amounts together, replace old amount
                found.amount = found.amount + newEntry.amount;
                // and thats it, no new entry
            } else {
                // if we dont have an entry with that person, push
                ledger.push(newEntry);
            }
            
            //update ledger view
            updateLedgerView();

        }

        function pay() {
            
            var newEntry = grabInputData(); 
            var found = findPerson(newEntry.person);

            if(typeof found == 'undefined'){
              // we dont have this person...
            } else {
                // we found a record
                // variable `found` is the record
                found.amount = found.amount - newEntry.amount;
            }
            
            //update ledger view print out
            updateLedgerView();

        }

        function clear() { 
            ledger = []; 
            updateLedgerView(); 
        }


        function updateLedgerView(){

            ledgerView.innerHTML = "";

            var table = document.createElement("table");
            for(var i = 0; i < ledger.length; i++){
                var entry = ledger[i];
                var row = table.insertRow();
                var nameCell = row.insertCell();
                var amountCell = row.insertCell();
                nameCell.innerHTML = entry.person;
                amountCell.innerHTML = entry.amount;
            }

            ledgerView.appendChild(table);
        }

        function findPerson(personName) {  
            return ledger.find(function(existingEntry){
                if(existingEntry.person == personName) return true;
            });
        }

        function grabInputData(){
            // grab user data
            var inputData = { 
                person: nameInput.value,
                amount: parseInt(priceInput.value) 
            };
            // clear inputs
            nameInput.value = "";
            priceInput.value = "";
            // return data that we grabbed
            return inputData;
        }


    </script> 
</body> 
</html>